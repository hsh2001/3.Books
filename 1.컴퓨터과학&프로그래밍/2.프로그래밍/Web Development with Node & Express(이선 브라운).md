# Web Development with Node & Express
### 지은이 : 이선 브라운(Ethan Brown)
### 출판사 : 길벗
### 읽은 날 : 2020.03.14 ~

### Overview
1. 익스프레스 소개
2. 노드 시작하기
3. 익스프레스로 시간 절약
4. 모양새 갖추기
5. 품질보증
6. 요청과 응답 객체
7. 핸들바를 사용한 템플릿
8. 폼 처리
9. 쿠키와 세션
10. 미들웨어
11. 이메일 보내기
12. 실무 관심사
13. 지속성
14. 라우팅
15. REST API와 JSON
16. 정적 콘텐츠
17. 익스프레스에서 MVC 구현
18. 보안
19. 타사 API와의 통합
20. 디버그

### 1. 익스프레스 소개
1. 익스프레스 웹사이트에서는 익스프레스를 ‘단일, 다중 페이지, 하이브리드 웹 애플리케이션을 만드는 데 필요한 견고한 기능 집합을 제공하는, 최소화되고 유연한 노드 웹 애플리케이션 프레임워크’라고 설명합니다.

2. 개발자로서 가장 짜증 나는 일은 다른 사람의 패키지를 쓰면서 소스를 여기저기 뒤져 라이선스 정책을 찾아보는 일이고, 라이선스가 아예 없음을 발견하면 절망스럽기까지 합니다.

### 2. 노드 시작하기
3. 노드는 전통적 웹 서버와 다른 패러다임, 즉 ‘지금 만드는 앱이 곧 웹 서버이다’라는 패러다임을 제시합니다. 노드는 단순히 웹 서버를 만드는 프레임워크를 제공할 뿐입니다.

4. 자바스크립트 안에서 HTML을 쓰지 않으려 하기 때문입니다.

5. 노드의 핵심 철학은 이벤트 기반 프로그래밍입니다. 이벤트 기반 프로그래밍에서는 프로그래머가 어떤 이벤트를 사용할 수 있는지, 거기에 어떻게 응답해야 하는지 이해해야 합니다.

6. 라우팅  
라우팅이란 요청받은 콘텐츠를 클라이언트에 보내는 메커니즘입니다. 웹 기반 클라이언트/서버 애플리케이션에서는 클라이언트가 원하는 콘텐츠를 URL에 표시, 즉 경로와 쿼리스트링에 표시합니다.

7. 개발 도중 혹은 작은 프로젝트를 진행할 때는 노드에서 정적 자원을 전송해도 별 문제가 없지만, 큰 프로젝트를 진행할 때는 엔진X 같은 프록시(proxy) 서버나 CDN을 사용해야 할 겁니다.

8. 아파치나 IIS를 써봤다면 HTML 파일을 만들어 클라이언트가 그 파일로 이동하게 하고 브라우저가 자동으로 그것을 전송하게 하는 방식에 익숙할 겁니다. 노드는 그런 식으로 동작하지 않습니다. 파일을 열고 내용을 읽어서 콘텐츠를 브라우저에 전송하는 작업을 직접 해야 합니다.

### 3. 익스프레스로 시간 절약
9. 이 책에서는 스캐폴딩 유틸리티를 사용하지 않지만, 책을 다 읽은 다음에는 한번 살펴보길 권합니다. 책을 다 읽고 나면 스캐폴딩 유틸리티가 생성하는 템플릿이 자신에게 유용한지 직접 판단할 수 있는 지식을 다 갖췄을 겁니다.
ㅤ
10. app.get 메서다가 바로 라우트를 추가하는 메서드입니다. 익스프레스 문서를 보면 app.VERB라는 표현을 볼 수 있습니다. 이는 문자 그대로 VERB라는 메서다가 있다는 뜻이 아닙니다. VERB는 (소문자인) HTTP 동사verb(대개 ‘get’과 ‘post’)의 플레이스홀더입니다. 이 메서드는 매개변수로 경로와 함수를 받습니다.
ㅤ
11. 경로 매개변수는 라우트를 정의합니다. App.VERB는 여러분이 해야 할 번거로운 작업을 상당히 덜어줍니다. 기본적으로 대소문자를 구분하지 않고 맨 뒤의 슬래시는 무시하며, 매칭할 때는 쿼리스트링을 무시한 채 매칭합니다. 따라서 어바웃 페이지의 라우트는 /about, /About(대소문자를 구분하지 않음), /about/(맨 뒤의 슬래시 무시), /about?foo=bar(쿼리스트링 무시), /about/?foo=bar(맨 뒤의 슬래시 무시, 쿼리스트링 무시) 등에 대해 모두 작동합니다.
ㅤ
12. 노드의 저수준 메서드 res.end 대신에 익스프레스의 확장 메서드 res.send를 사용했습니다. 또 노드의 res.writeHead를 res.set과 res.status로 교체했습니다. 익스프레스는 Content-Type 헤더를 설정하는 편리한 메서드 res.type을 제공합니다. 물론 res.wrtieHead와 res.end를 써도 되지만, 그럴 필요는 없습니다.
ㅤ
13. 커스텀 404와 500 페이지는 반드시 조금 다르게 처리해야 합니다. app.get 대신 app.use를 썼습니다. app.use는 익스프레스에서 미들웨어를 추가할 때 쓰는 메서드입니다. 미들웨어는 10장에서 더 깊이 다룰 테니, 일단 지금은 라우트와 일치하지 않는 모든 것을 처리하는 폴백(catch-all) 핸들러라고 생각하십시오. 중요한 요점은 이겁니다. 익스프레스에서는 라우트와 미들웨어를 추가하는 순서가 중요합니다. 404 핸들러를 라우트 앞에 두었다면 홈페이지와 어바웃 페이지는 동작하지 않고 404 에러가 일어났을 겁니다. 지금은 라우트 구조가 매우 단순하지만, 와일드카드를 지원하므로 순서 문제가 생길 수 있습니다.
ㅤ
14. 제이드는 매우 매력적이지만, 추상화 수준이 높은 만큼 지불해야 할 비용도 있습니다. 프론트엔드 개발자라면 HTML을 아주 잘 이해하고 있어야 하지만, 제이드로 뷰를 만들면 HTML을 쓰지 않게 됩니다. 필자가 알고 있는 프론트엔드 개발자 대부분은 주로 쓰는 마크업 언어가 사라진다는 사실에 불편해합니다. 따라서 추상화 수준이 좀 덜한 템플릿 프레임워크인 핸들바를 권합니다. 핸들바는 인기 있는 언어 독립적 템플릿 언어 머스태시에 기반을 두고 만들어졌습니다. 핸들바는 HTML을 없애지 않습니다. HTML에 특별한 태그를 쓰면 핸들바가 이를 인식하고 콘텐츠를 주입합니다.
ㅤ
15. 지금은 미들웨어에서 정규화를 해주므로 요청 처리가 더 쉽다는 것만 기억하면 충분합니다.
ㅤ
16. static 미들웨어는 정적 자원을 담고 있는 하나 이상의 디렉터리를 지목해서 특별한 처리 없이 클라이언트에 전송할 수 있게 해줍니다. 이 디렉터리에 이미지, CSS 파일, 클라이언트 자바스크립트 파일 등을 저장합니다.
ㅤ
17. 프로젝트 디렉터리 안에 public 서브디렉터리를 만듭니다. 이 디렉터리를 public이라 부르는 건 이 디렉터리 안에 들어 있는 것은 조건 없이 클라이언트에 보내기 때문입니다. 라우트를 선언하기 전에 static 미들웨어를 다음과 같이 추가합니다.
app.use(express.static(__dirname + ‘/public’));
ㅤ
18. static 미들웨어는 클라이언트에 전송할 각 정적 파일마다 라우트를 만들고 그 파일을 반환하는 것과 같은 효과가 있습니다.
ㅤ
19. 무언가를 모듈 밖에서 사용할 수 있게 하려면 exports에 추가해야 합니다. 이 예제에서는 getFortune 함수를 이 모듈 바깥에서도 쓸 수 있지만, fortuneCookies 배열은 완벽히 감춰집니다. 이것은 좋은 방식입니다. 캡슐화를 통해, 잠재적 에러나 취약한 코드를 방지할 수 있으니까요.
ㅤ
### 4. 모양새 갖추기
19. 나쁜 습관을 반복하면 그 나쁜 습관이 기계적이 됩니다. 완벽한 연습을 통해 완벽해지는 규칙을 따라야 합니다.
ㅤ
20. 무언가를 모듈 밖에서 사용할 수 있게 하려면 exports에 추가해야 합니다. 이 예제에서는 getFortune 함수를 이 모듈 바깥에서도 쓸 수 있지만, fortuneCookies 배열은 완벽히 감춰집니다. 이것은 좋은 방식입니다. 캡슐화를 통해, 잠재적 에러나 취약한 코드를 방지할 수 있으니까요.
